<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=chrome">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <link rel="stylesheet" href="static/wti.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        
        <script
            type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
            crossorigin="anonymous">
        <script
            src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"
            integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk"
            crossorigin="anonymous"></script>
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"
            integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK"
            crossorigin="anonymous"></script>

        <style>
            * {
                box-sizing: border-box;
            }
            body {
                margin: 0;
            }
            .container{
              width:100%;
            }

            .road {
                width: 0;
                height: 0;
                border-bottom: 46.875rem solid #f1e8b8;
                border-top: 0 solid transparent;
                border-left: 31.25rem solid transparent;
                border-right: 31.25rem solid transparent;
            }

            .bubble {
                position: relative;
                width: 250px;
                height: 250px;
                background-color: white;
                opacity: 0.5;
                border-radius: 50%;
            }

            .bubble::after {
                content: '';
                position: absolute;
                right: -40px;
                top: 50%;
                margin-top: -20px;
                border-top: 20px solid transparent;
                border-right: 20px solid transparent;
                border-bottom: 20px solid transparent;
                border-left: 20px solid white;
            }

            .text {
                position: absolute;
                left: 50%;
                top: 50%;
                transform: translate(-50%, -50%);
                width: 100%;
                margin: 0;
                padding: 5%;
                text-align: center;
            }

            .oilman {
                position: relative;
            }

            
            
          
        </style>
    </head>

    <body >
        <div class="container m-auto">
        <!-- Nav -->
          <nav class="navbar fixed-top" style="border-color: #2EC4B6;" width:100%;>
              <div class="container-fluid" >
                  <div style="padding:auto;">
                  <a class="navbar-brand" href="#" onclick="location.href='page';"><img src="/static/WTI_logo(white).png"></a>
                </div>
                  <button
                      class="navbar-toggler "
                      type="button"
                      data-bs-toggle="offcanvas"
                      data-bs-target="#offcanvasNavbar"
                      aria-controls="offcanvasNavbar">
                      <span align="right" class="navbar-toggler-icon"></span>
                  </button>
                
                  <div
                      class="offcanvas offcanvas-end"
                      tabindex="-1"
                      id="offcanvasNavbar"
                      aria-labelledby="offcanvasNavbarLabel">
                      <div class="offcanvas-header">
                          <h5 class="offcanvas-title" id="offcanvasNavbarLabel">More..</h5>
                          <button
                              type="button"
                              class="btn-close"
                              data-bs-dismiss="offcanvas"
                              aria-label="Close"></button>
                      </div>
                      <div class="offcanvas-body">
                          <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
                            <li class="nav-item color-primary">
                                <a
                                    class="nav-link active"
                                    aria-current="page"
                                    href="#"
                                    onclick="location.href='page5?time=180';">Graph</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#" onclick="location.href='page6?day=50';">Forecast</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#" onclick="location.href='page2?page=1';">News</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link" href="#" onclick="location.href='page';">Home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link disabled">insights</a>
                            </li>
                      </div>
                  </div>
              </div>
          </nav>
        </div>

        <div class="container2">
          <div class="row m-auto" id="main_img">
            
            <img src="/static/seocho_img2_main.png">
            <br>
            <br>
            <br>
            
            <div class="text-box top4" style="text-align:center;" >
              
            </div>
          
          </div>
          
        
        
          <div class="row m-auto" >
            <div class="col-12" > 
              <div class='text-box0 top2_1'style='text-align:center;'>
                OUR  <b style="color: #2ec4b6;">Model</b> <span style="color:black;" >is</span>
              </div>
            </div>
          </div>
          
         
          <div class="container">
            <div class="row"><br></div>
          
            <div class="row"><br><br><br></div>
            <hr>
            <br>
          <div id="btns" class="row m-auto">
            <div class="col-6" align="right" ><button class="btn2">DATA</button></div>
            <div class="col-6"><button class="btn2">MODEL</button></div>
            <div class="col-6" align="right"><button class="btn2">VISUALIZATION</button></div>
            <div class="col-6"><button class="btn2">Prediction</button></div>
          </div>
        </div>
        <div class="container">
          <div class="contents_circle">
            <img style="margin-top:20px; margin-bottom:20px;" src = "/static/oil_learn.png">
            <div style="margin-bottom: 20px;">- DJI / CBCCI / XLE / CPI / CLI / Inventories etc..</div>
          </div>
        
        </div>
          <br>

          
          <!--
          <div class="row main mb-5 mt-5 m-auto carousel_setting showItemUp" width: 100%;> 
            <div
              id="carouselExampleCaptions"
              class="carousel slide"
              data-bs-ride="carousel">
              <div class="carousel-indicators">
                <button
                    type="button"
                    data-bs-target="#carouselExampleCaptions"
                    data-bs-slide-to="0"
                    class="active"
                    aria-current="true"
                    aria-label="Slide 1"></button>
                <button
                    type="button"
                    data-bs-target="#carouselExampleCaptions"
                    data-bs-slide-to="1"
                    aria-label="Slide 2"></button>
                <button
                    type="button"
                    data-bs-target="#carouselExampleCaptions"
                    data-bs-slide-to="2"
                    aria-label="Slide 3"></button>
              </div>
              <div class="carousel-inner border-rad-20">
                <div class="carousel-item active">
                    <div class="chart_container carousel_box">
                        <canvas id="myChart" height="70vw" width="90vw"></canvas>
                    </div>
                </div>
                <div class="carousel-item">
                  <div class="carousel_box">
                      <a href="" onclick="location.href='page2';"><img src="/static/hot-topic.jpeg" style="margin:auto"></a>
                  </div>
                </div>
                <div class="carousel-item ">
                    <div class="carousel_box">
                        <h5 style="text-align:center">Today News</h5>
                        <a href="#">
                            <div class="boxbox" onclick="location.href='page2';">TTEST</div>
                        </a><br>
                        <a href="#">
                            <div class="boxbox" onclick="location.href='page2';">TestPage2</div>
                        </a><br>
                    </div>
                </div>
              </div>
              <button
                class="carousel-control-prev"
                type="button"
                data-bs-target="#carouselExampleCaptions"
                data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
              </button>
              <button
                  class="carousel-control-next"
                  type="button"
                  data-bs-target="#carouselExampleCaptions"
                  data-bs-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Next</span>
              </button>
            </div>
          </div>
        <div class="addText h2_1" style='text-align:center;, visibility:hidden;'>
          <button class="btn5" onclick="location.href='page';">Tap up</button>

        </div>
        -->
      </div>
    <script>

        $.ajax({
            type: "GET",
            url: "/wti_chart",
            data: {},
            dataType: "json",
            success: function (response) {
                /*console.log("기존것"+response[0])*/

                const dateList = [] 
                const wtipriceList = [] 
                const dateList2 = [] 
                const wtipriceList2 = []
                const wtipriceList3 = []  
                for (const res of response) {
                    dateList.push(res["Date"])
                    wtipriceList.push(res["WTI_price"])
                    wtipriceList3.push(res["WTI_price"])
                }
                console.log(dateList)
                console.log(wtipriceList)
                /*dateList.reverse();*/
                /*wtipriceList.reverse();
                wtipriceList3.reverse();
                /*console.log("rever"+dateList)
                console.log("rever"+wtipriceList)*/
                  $.ajax({
                    type: "GET",
                    url: "/wti_chart/plus",
                    data: {},
                    dataType: "json",
                    success: function (response) {
                      /*console.log("왔나요?"+response[0])*/
                      for (const res of response) {
                        dateList.push(res["Date"])
                        dateList2.push(res["Date"])
                        wtipriceList2.push(res["WTI_price"])
                        wtipriceList3.push(res["WTI_price"])
                      }
                      console.log(dateList)
                      const ctx = document
                          .getElementById("myChart")
                          .getContext("2d")
                      let gradient = ctx.createLinearGradient(0, 0, 0, 400);
                      gradient.addColorStop(0, "rgba(255,255,255,0.5)");
                      gradient.addColorStop(1, "rgba(255,255,255,0.1)");
                        /*console.log("총길이"+dateList);
                        console.log("예측값"+wtipriceList2);
                        console.log("이전값"+wtipriceList);
                        console.log("더한값"+wtipriceList3);*/

                      new Chart(ctx, {
                        type: 'line',
                        data: {
                            labels: dateList,
                            datasets: [
                                {
                                    label: "WTI Price",
                                    data: wtipriceList,
                                    borderColor: '#ff6666',
                                    borderWidth: 2,
                                    backgroundColor: gradient,
                                    pointBackgroundColor: "#ff6666",
                                    pointStyle: 'circle',
                                    pointRadius: 0.5,
                                    pointHoverRadius: 10
                                },{

                                  
                                  label: "WTI Price2",
                                  data: wtipriceList3,
                                  borderColor: 'black',
                                  borderWidth: 2,
                                  backgroundColor: gradient,
                                  pointBackgroundColor: "black",
                                  pointStyle: 'circle',
                                  pointRadius: 0.5,
                                  pointHoverRadius: 10
                                  
                              }
                           ]
                        },
                        options: {
                            fill: true,
                            tension: 0.1,
                            scales: {
                                y: {
                                    beginAtZero: false
                                }
                            },
                            responsive: true,
                            animation: true
                        }
                    });

                    }
                  })
                
                
            }
        });

  
    </script>

            
    </body>
</html>