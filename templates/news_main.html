<!DOCTYPE html>
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=chrome">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <link rel="stylesheet" href="static/wti.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <!--<script th:src="@{https://code.jquery.com/jquery-3.5.1.slim.min.js}"
  crossorigin="anonymous"></script>-->
  <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
  <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
      crossorigin="anonymous">
  <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"
      integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk"
      crossorigin="anonymous"></script>
  <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"
      integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK"
      crossorigin="anonymous"></script>
  
  
  <style>
    body{
      margin: 0px;
    } 

    a {
      text-decoration-line: none;
    }
    

    
  </style>
</head>
<body>
  <div class="container m-auto">
    <!-- Nav -->
      <nav class="navbar fixed-top" style="border-color: #2EC4B6;" width:100%;>
          <div class="container-fluid">
            <div style="padding:auto;">
              <a class="navbar-brand" href="#" onclick="location.href='page';"><img src="/static/WTI_logo(white).png"></a>
            </div>
              <button
                  class="navbar-toggler "
                  type="button"
                  data-bs-toggle="offcanvas"
                  data-bs-target="#offcanvasNavbar"
                  aria-controls="offcanvasNavbar">
                  <span class="navbar-toggler-icon"></span>
              </button>
              <div
                  class="offcanvas offcanvas-end"
                  tabindex="-1"
                  id="offcanvasNavbar"
                  aria-labelledby="offcanvasNavbarLabel">
                  <div class="offcanvas-header">
                      <h5 class="offcanvas-title" id="offcanvasNavbarLabel">More WTI</h5>
                      <button
                          type="button"
                          class="btn-close"
                          data-bs-dismiss="offcanvas"
                          aria-label="Close"></button>
                  </div>
                  <div class="offcanvas-body">
                      <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
                        <li class="nav-item color-primary">
                            <a
                                class="nav-link active"
                                aria-current="page"
                                href="#"
                                onclick="location.href='page5?time=180';">Graph</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="location.href='page6?day=50';">Forecast</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="location.href='page2?page=1';">News</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" href="#" onclick="location.href='page';">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link disabled">insights</a>
                        </li>
                  </div>
              </div>
          </div>
      </nav>
    </div>
  
    <div class="container">
      <div class="row m-auto ">
          <div class="col-12 h1">
            <br>
            <div class="h1"> News</div>
            
          </div>
        </div>
        <br>
        
        <div style="border-bottom : 0.2rem solid #2ec4b6;" margin-top:"2rem"></div>

        <div class="news_circle">
            <div class="col-12" id="news-table" align="center">
                <div id="news-tbody" style="text-align : center;">
                  <div class="row m-auto" style="border-bottom:0.3rem solid black">
                    <div class="col-2 h3 d-none d-lg-block" >Up/Down</div> 
                    <div class="col-2 body2 d-lg-none" margin-left="0.5rem;">Up/Down</div>
                    <div class="col-7 h3 d-none d-lg-block" >Title</div>
                    <div class="col-7 body2 d-lg-none" >Title</div>
                    <div class="col-3 h3 d-none d-lg-block">Date</div>
                    <div class="col-3 body2 d-lg-none">Date</div>
                    
                </div>
            </div>
            <br>
            <div style="border-bottom : 0.1rem solid gray;" ></div>
            <br>
           
            
              
            
          </div>
        
      </div>
      <div align="center" style="top:10px;, margin-top : 10px;"> 
                
        <ul class="pagination pagination-sm justify-content-center">
        <li><a href="#" onclick="location.href='page2?page=1';"><h3>[1] </h3></a> </li>
        <li><a href="#" onclick="location.href='page2?page=2';"><h3>[2] </h3></a> </li>
        <li><a href="#" onclick="location.href='page2?page=3';"><h3>[3] </h3></a> </li>
        <li><a href="#" onclick="location.href='page2?page=4';"><h3>[4] </h3></a> </li>
        <li><a href="#" onclick="location.href='page2?page=5';"><h3>[5]</h3></a> </li>
        </ul>
      </div>
  
<script>
  let pageNum = window.location.href.split("?")[1].split("=")[1]
  console.log(pageNum)

  
    $.ajax({
      type: "GET",
      url: "/wti/" + pageNum,
      data: {},
      success: function(response) {
        console.log(response[0]);
  
        for (let i=0; i<response.length; i++) {
          console.log(response[i].label);
          if (response[i].label == 2){
            $("#news-tbody").append(`
            <br>
              <div class="row m-auto" width:100%; height:1rem; style="border-top :0.1rem solid gray;">
                <div class='col-2 new_box h4 pt-4 d-none d-lg-block' style="color:red;"> ▲ </div>
                <div class='col-7 new_box h4 pt-4 ellipsis d-none d-lg-block' ><a href="#" onclick="location.href='/page4?news_id=${response[i].news_id}';">${response[i].news_title}</div></a>
                <div class='col-3 new_box h4 pt-4 d-none d-lg-block' text-align:center; width:100%; height:1rem; style= border-left :0.1rem solid gray;">${response[i].news_date}</div>

                <div class='col-1 new_box body2 pt-4 d-lg-none' style="color:red;"> ▲ </div>
                <div class='col-7 new_box body1 pt-4 ellipsis d-lg-none' ><a href="#" onclick="location.href='/page4?news_id=${response[i].news_id}';">${response[i].news_title}</div></a>
                <div class='col-3 new_box body2 pt-4 d-lg-none' text-align:center; width:100%; height:1rem; style= border-left :0.1rem solid gray;">${response[i].news_date}</div>
              </div>
            
          `)

          }else if (response[i].label == 0){
            $("#news-tbody").append(`
              <br>
                <div class="row m-auto" width:100%; height:1rem; style="border-top :0.1rem solid gray;">
                  <div class='col-2 new_box h4 pt-4 d-none d-lg-block' style="color:blue;"> ▼ </div>
                  <div class='col-7 new_box h4 pt-4 ellipsis d-none d-lg-block' ><a href="#" onclick="location.href='/page4?news_id=${response[i].news_id}';">${response[i].news_title}</div></a>
                  <div class='col-3 new_box h4 pt-4 d-none d-lg-block' text-align:center; width:100%; height:1rem; style= border-left :0.1rem solid gray;">${response[i].news_date}</div>

                  <div class='col-1 new_box body2 pt-4 d-lg-none' style="color:blue;"> ▼ </div>
                  <div class='col-7 new_box body1 pt-4 ellipsis d-lg-none' text-align='center' ><a href="#" onclick="location.href='/page4?news_id=${response[i].news_id}';">${response[i].news_title}</div></a>
                  <div class='col-3 new_box body2 pt-4 d-lg-none' text-align:center; width:100%; height:1rem; style= border-left :0.1rem solid gray;">${response[i].news_date}</div>
                </div>
              
            `)
            } else {
              $("#news-tbody").append(`
            <br>
              <div class="row m-auto" width:100%; height:1rem; style="border-top :0.1rem solid gray;">
                <div class='col-2 new_box h4 pt-4 d-none d-lg-block' style="color:black;"><b>-</b></div>
                <div class='col-7 new_box h4 pt-4 ellipsis d-none d-lg-block' ><a href="#" onclick="location.href='/page4?news_id=${response[i].news_id}';">${response[i].news_title}</div></a>
                <div class='col-3 new_box h4 pt-4 d-none d-lg-block' text-align:center; width:100%; height:1rem; style= border-left :0.1rem solid gray;">${response[i].news_date}</div>

                <div class='col-1 new_box body2 pt-4 d-lg-none' style="color:black;"><b>-</b></div>
                <div class='col-7 new_box body1 pt-4 ellipsis d-lg-none' ><a href="#" onclick="location.href='/page4?news_id=${response[i].news_id}';">${response[i].news_title}</div></a>
                <div class='col-3 new_box body2 pt-4 d-lg-none' text-align:center; width:100%; height:1rem; style= border-left :0.1rem solid gray;">${response[i].news_date}</div>
              </div>
            
          `)

            }

          console.log(response[i])
        } 
      }
    })
  
  
  

  /*
  function goView(news_id) {
    location.href = 'page4/'${news.news_id}';
  }
*/
</script>
</body>
</html>